---
sidebar: sidebar 
permalink: task-set-up-gcnv.html 
keywords: setup, set up, api, service account, requirements, permissions, google cloud netapp volumes, gcnv, bluexp. netapp console 
summary: NetApp Console需要通过 Google Cloud 服务帐户访问Google Cloud NetApp Volumes API 并获得正确的权限。 
---
= 设置Google Cloud NetApp Volumes
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./media/


[role="lead"]
NetApp Console需要通过 Google Cloud 服务帐户获得正确的权限。



== 设置服务帐户

完成以下任务，以便NetApp Console可以访问您的 Google Cloud 项目：

* 如果您还没有服务帐户，请创建一个新的。
* 将服务帐户成员添加到您的项目并为其分配特定的角色（权限）。
* 为用于向 Google 进行身份验证的服务帐户创建并下载密钥对。


.步骤
. 在 Google Cloud 控制台中， https://console.cloud.google.com/iam-admin/serviceaccounts["前往服务帐户页面"^] 。
. 单击*选择项目*，选择您的项目，然后单击*打开*。
. （可选）要创建服务帐户，请执行以下操作：
+
.. 点击*创建服务帐户*。
.. 输入服务帐户名称（友好显示名称）和描述。
+
Google Cloud Console 根据此名称生成服务帐户 ID。如有必要，请编辑 ID - 您以后无法更改 ID。

.. 要立即设置访问控制，请单击页面底部的“创建”然后单击“完成”，然后继续下一步。


. 在“IAM 页面”中单击“添加”并填写“添加成员”页面中的字段：
+
.. 在新成员字段中，输入完整服务帐户 ID。
+
例如：\user1-service-account-gcnv@project1.iam.gserviceaccount.com

.. 添加以下角色之一：
+
*** _Google Cloud NetApp Volumes Admin_ 或
*** Google Cloud NetApp卷查看器


.. 单击“保存”。


. 单击服务帐户名称，然后从“服务帐户详细信息”页面中单击“添加密钥”，然后单击“创建新密钥”。
. 选择 *JSON* 作为密钥类型，然后单击 *创建*。
+
通过单击*创建*，您的新公钥/私钥对将生成并下载到您的系统。它是私钥的唯一副本。安全地存储此文件，因为它可用于验证您的服务帐户。



详细步骤请参考Google Cloud文档：

* link:https://cloud.google.com/iam/docs/roles-permissions/netapp["Google Cloud NetApp Volumes角色和权限"^]
* link:https://cloud.google.com/iam/docs/creating-managing-service-accounts["创建和管理服务帐户"^]
* link:https://cloud.google.com/iam/docs/granting-changing-revoking-access["授予、更改和撤销对资源的访问权限"^]
* link:https://cloud.google.com/iam/docs/creating-managing-service-account-keys["创建和管理服务帐户密钥"^]

